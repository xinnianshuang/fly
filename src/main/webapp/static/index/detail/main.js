var jq=jQuery.noConflict();jq(document).ready(function(){f();e();g();function b(h,i){h.each(function(){jq(this).mouseenter(function(){jq(h).removeClass("in").find(i).stop().slideUp(200);jq(this).find(i).stop().slideDown(200)});jq(this).mouseleave(function(){jq(this).find(i).stop().slideUp(200)})})}function f(){b(jq(".nav .nav-children"),jq(".down-menu"));jq(".nav .down-menu").each(function(h,i){jq(i).css("height",jq(i).outerHeight(true))});jq(".nav .nav-name").on("focus",function(){jq(".nav .nav-children").removeClass("in").find(".down-menu").slideUp(200);jq(this).parent().addClass("in");jq(this).next().stop().slideDown(200)});jq(".nav .down-menu-con:last-child").find("p:last-child a").on("blur",function(){jq(this).closest(".nav-children").removeClass("in").find(".down-menu").slideUp(200)});jq(".nav .down-menu-con:last-child").find("dt a").on("blur",function(){jq(this).closest(".nav-children").removeClass("in").find(".down-menu").slideUp(200)})}function c(){var h=null;jq(".search-glass-box .search-inp").focus(function(){h=true});jq(".search-glass-box .search-inp").blur(function(){h=false;jq(this).stop().fadeOut(200);jq(this).closest(".search-box").removeClass("on")});jq(".search-glass-box").hover(function(){jq(this).addClass("on").find(".search-inp").stop().fadeIn(200)},function(){if(!h){jq(this).removeClass("on").find(".search-inp").stop().fadeOut(200)}})}function e(){jq(".simulation-select .select").mouseenter(function(){jq(this).find(".list").stop().slideDown(200);return false});jq(".simulation-select .select").mouseleave(function(){jq(this).find(".list").stop().slideUp(200);return false})}function g(){b(jq(".lang-box"),jq(".lang-select"));jq(".lang .lang-list li .click").click(function(){jq(".lang .lang-list li .children-opt").stop().hide(100);jq(this).closest("li").addClass("on").siblings().removeClass("on");jq(this).closest("li").find(".children-opt").stop().slideDown(100)});jq(".header .lang").on("focus",function(){jq(".header .lang-select").slideDown(200)});jq(".hd-rt .head-search-button").on("focus",function(){jq(".header .lang-select").slideUp(200)});jq(".lang-list li:last-child a").on("blur",function(){jq(".header .lang-select").slideUp(200)})}function d(h){var i=jq(h).closest(".tab-radio"),j=i.find(".crew-radio-label"),k=i.find(".radio-db");k.addClass("dn");k.eq(j.index(jq(h))).removeClass("dn")}jq(".sec-dispatch .crew-radio-label").on("click",function(){d(jq(this))});jq(document).on("radioChange",".crew-radio",function(m){var k=jq(this).find("input[type=radio]").is(":checked");if(k||jq(this).hasClass("disabled")){return}var h=jq(this).find("input[type=radio]").attr("data-name")||jq(this).find("input[type=radio]").attr("name");jq(".crew-radio [data-name="+h+"],.crew-radio [name="+h+"]").prop("checked",false).closest(".crew-radio").removeClass("selected").find("i").attr("class","icon-unchoice");jq(this).find("input[type=radio]").prop("checked",true).closest(".crew-radio").addClass("selected").find("i").attr("class","icon-choice");if(jq(this).parent().hasClass("crew-box")){jq(this).find("i").attr("class","icon-choice");jq(this).parents(".select-list").siblings(".select-show").find(".select-text").text("选择常用乘机人");var l=jq(this).parents(".select-radio").siblings();for(var j=0;j<l.length;j++){l.eq(j).find("input[type=radio]").prop("checked",false).closest(".crew-radio").addClass("selected").find("i").attr("class","icon-unchoice")}}else{jq(this).parents(".select-radio").siblings().last().find("i").attr("class","icon-unchoice")}}).on("click",".crew-radio-label",function(){var h=jq(this).find(".radio-check");if(h.length>0){return null}jq(this).find(".crew-radio").trigger("radioChange")});jq(document).on("checkboxChange",".crew-checkbox",function(){var h=jq(this).find("input[type=checkbox]").is(":checked");h?jq(this).addClass("selected").find("input[type=checkbox]").prop("checked",true).siblings("i").attr("class","icon-checkbox"):jq(this).removeClass("selected").find("input[type=checkbox]").prop("checked",false).siblings("i").attr("class","icon-unselected")}).on("change",".crew-checkbox input[type=checkbox]",function(){jq(this).closest(".crew-checkbox").trigger("checkboxChange")});jq(".res-hd-sorts").on("click",".crew-checkbox-label",function(){if(jq(".res-hd-sorts input").prop("checked")){jq(".res-hd-sorts .sort-trans").addClass("sort-disable")}else{jq(".res-hd-sorts .sort-trans").removeClass("sort-disable")}});jq(document).on("click",".select-show",function(){var h=jq(this).closest(".select-group"),i=h.find(".select-list");if(h.hasClass("select-disabled")){return}if(i.is(":visible")){h.removeClass("select-focus");h.find(".select-show i").toggleClass("icon-crrow icon-crrowupper");return}jq(".select-group").each(function(){var j=jq(this);if(j.hasClass("select-focus")){j.find(".select-show i").toggleClass("icon-crrow icon-crrowupper");j.removeClass("select-focus")}});h.addClass("select-focus");jq(this).find("i").toggleClass("icon-crrow icon-crrowupper")}).on("click",".select-option",function(){if(jq(this).closest(".passenger-select").length!==0){return true}var i=jq(this).closest(".select-group");i.find(".select-text").text(jq(this).text());i.find(".select-input").val(jq(this).attr("data-value"));i.removeClass("select-focus");i.find(".select-show i").toggleClass("icon-crrow icon-crrowupper");if(i.hasClass("error")){i.removeClass("error")}var h=jq(this).parent().siblings(".select-show").find(".select-text").attr("title");if(h!==undefined){jq(this).parent().siblings(".select-show").find(".select-text").prop("title",jq(this).html())}}).on("click",".select-radio .crew-radio",function(){var h=jq(this).closest(".select-group");var i=jq(this).find("input[type=radio]").is(":checked");if(i){h.find(".select-input").val(jq(this).attr("data-value"));h.find(".select-text").text(jq(this).parents(".select-radio").text())}setTimeout(function(){h.removeClass("select-focus")},300)}).on("click",function(i){var h=jq(i.target).closest(".select-group");if(h.length===0){jq(".select-group").each(function(){var j=jq(this);if(j.hasClass("select-focus")){j.find(".select-show i, .i-arrow").toggleClass("icon-crrow icon-crrowupper");j.removeClass("select-focus")}})}}).on("click",".select-code .select-option",function(){var h=jq(this).find(".num").text();jq(this).closest(".select-group").find(".select-text").html(h)});jq(document).on("focus",".input-box-area",function(){jq(this).parent().addClass("focus").removeClass("error")}).on("blur",".input-box-area",function(){jq(this).parent().removeClass("focus")});function a(h){h.each(function(){var i=jq(this);if(!i.attr("title")){return true}var k=i.attr("title"),j=jq("<span class='seat-tip'>"+k+"<span class='seat-tip-arrow'></span></span>");i.append(j).addClass("seat-tip-con");i.hover(function(){i.prop("title","");j.css("margin-left",-j.outerWidth()/2).show()},function(){i.attr("title",k);j.hide()})})}a(jq(".seat-body li"));jq(".acc-trigger").on("click",function(){var j=jq(this),i=j.closest(".acc"),h=i.children(".acc-con");if(!i.hasClass("acc-on")){i.addClass("acc-on");h.slideDown()}else{i.removeClass("acc-on");h.slideUp()}});jq(".box-captcha").on("click",".cap-pic",function(){if(jq(this).closest(".box-captcha").hasClass("disabled")){return false}jq(this).toggleClass("on")});jq(".nav .btn-login").on("click",function(){jq("#dialog-login").crewDialog()});jq(".trigger-info").drifter();if(!tool.supports("boxShadow")){jq("body").addClass("no-boxShadow")}});jq.fn.drifter=function(b){var c={triggerType:"hover",imgTemp:"",disableClass:"tip-disable"},d=jq.extend({},c,b||{});function a(g){var f=g.attr("data-src"),e=new Image();e.src=f;if(e.complete){g.attr("src",f);g.siblings(".hover-con").clone()}else{e.onload=function(){g.attr("src",f);g.siblings(".hover-con").clone();e.onload=null}}}return jq(this).each(function(){if(d.triggerType==="hover"){var f;var e=jq("#crew-hover-info");if(e.length<1){jq("body").append("<div id='crew-hover-info' class='crew-hover-info'></div>");e=jq("#crew-hover-info")}jq(this).hover(function(){if(jq(this).hasClass(d.disableClass)){return}var j=jq(this).next(".hover-con").clone();var h=jq(this).offset().left+"px",l=jq(this).offset().top+jq(this).outerHeight(),k=jq(this).width()/2-5+"px";if(jq(this).attr("data-tip")){var o=jq(this).attr("data-tip");var p='<div class="hover-con"><span class="crew-con-arrow"></span><div class="crew-con-wrap tip-text-wrap">'+o+"</div></div>";j=jq(p);e.html(j)}if(!j.length){return}e.html(j);var g=e.width();var n=j.find(".crew-con-arrow");if(d.imgTemp){var m="."+d.imgTemp;var i=j.find(m);a(i)}if(jq(this).hasClass("pos-r")){h=jq(this).offset().left-g+jq(this).width()+"px";n.css({left:"auto",right:k})}else{if(jq(this).hasClass("pos-c")){h=jq(this).offset().left-g/2+jq(this).width()/2+"px";k=j.width()/2-7+"px";n.css({left:k})}else{if(jq(this).hasClass("pos-lr")){h=jq(this).offset().left+jq(this).width()+"px";n.css({top:20+"px",left:-10+"px"})}else{n.css({left:k})}}}e.css({left:h,top:l});if(jq(this).hasClass("pos-lr")){e.css({left:h,top:Number(l)-35+"px"})}},function(){var g=jq("#crew-hover-info");f=setTimeout(function(){g.html("")},0)});jq(document).on("mouseleave","#crew-hover-info",function(){jq(this).html("")}).on("mouseover","#crew-hover-info",function(){clearTimeout(f)})}})};window.tool={bindDate:function(c){if(!jQuery.datepicker||c.length<1){return false}var b={yuandan:["2020-01-01","2021-01-01","2022-01-01","2023-01-01","2024-01-01","2025-01-01"],chuxi:["2020-01-24","2021-02-11","2022-01-31","2023-01-21","2024-02-09","2025-01-28"],chunjie:["2020-01-25","2021-02-12","2022-02-01","2023-01-22","2024-02-10","2025-01-29"],yuanxiao:["2020-02-08","2021-02-26","2022-02-15","2023-02-05","2024-02-24","2025-02-12"],qingming:["2020-04-04","2021-04-04","2022-04-05","2023-04-05","2024-04-04","2025-04-04"],wuyi:["2020-05-01","2021-05-01","2022-05-01","2023-05-01","2024-05-01","2025-05-01"],duanwu:["2020-06-25","2021-06-14","2022-06-03","2023-06-22","2024-06-10","2025-05-31"],zhongqiu:["2020-10-01","2021-09-21","2022-10-01","2023-09-29","2024-09-17","2025-10-06"],guoqing:["2020-10-01","2021-10-01","2022-10-01","2023-10-01","2024-10-01","2025-10-01"]},e=["元旦","除夕","春节","元宵","清明","五一","端午","中秋","国庆"];function a(n,j,h){var i=jq(n).val(),g=i.split("-"),f=/^(\d+)-(\d+)-(\d+)$/.test(i),m,k,l=new Date();if(f&&g[0]>=parseInt(l.getFullYear(),10)&&g[0]<l.getFullYear()+5){m=parseInt(g[0],10);k=parseInt(g[1],10)}if(jq.trim(i)===""||jq.trim(i)==="yyyy-mm-dd"){m=l.getFullYear();k=l.getMonth()+1}d(m,k,h)}function d(n,l,h){if(!n||!l){return}clearTimeout(g);var j=parseInt(new Date().getFullYear().toString().slice(2),10),p=parseInt(n.toString().slice(2),10)-j,k=l,m=p,f=l+1,i=[];if(k===12){f=1;m++}if(p<0||p>4){return}for(var o=0;o<2;o++){i.push(b.yuandan[p+o]);i.push(b.chuxi[p+o]);i.push(b.chunjie[p+o]);i.push(b.yuanxiao[p+o]);i.push(b.qingming[p+o]);i.push(b.wuyi[p+o]);i.push(b.duanwu[p+o]);i.push(b.zhongqiu[p+o]);i.push(b.guoqing[p+o])}var g=setTimeout(function(){for(var r=0,q=i.length;r<q;r++){var t=parseInt(i[r].slice(0,4),10),s=parseInt(i[r].slice(5,7),10)-1,u=parseInt(i[r].slice(8,10),10);jq("#ui-datepicker-div").find("table").find("[data-month="+s+"][data-year="+t+"]").closest("tbody").find(".ui-state-default").eq(u-1).addClass("ui-state-red").prop("data-mark",e[r%9]);jq("#ui-datepicker-div").find(".ui-state-red").each(function(){jq(this).prop("data-path",jq(this).text());clearTimeout(v);var w=jq(this),y=w.prop("data-mark"),x=w.prop("data-path"),v=setTimeout(function(){w.text(y)},1);jq(this).hover(function(){w.text(x)},function(){w.text(y)})})}},1)}c.each(function(){if(jq(this).parent(".input-box").hasClass("input-range")){jq(this).datepicker({numberOfMonths:2,beforeShow:function(f,g){a(f,g,2)},onChangeMonthYear:function(f,h,g){d(f,h,2)}})}else{if(jq(this).parent(".input-box").hasClass("input-limit")){jq(this).datepicker({minDate:-2,maxDate:2})}else{if(jq(this).parent(".input-box").hasClass("input-birthday")||jq(this).parent(".number-box").hasClass("input-birthday")){jq(this).datepicker({changeMonth:true,changeYear:true,yearRange:"1900:c",maxDate:0,showButtonPanel:false,yearSuffix:" "})}else{if(jq(this).parent(".input-box").hasClass("input-passport")||jq(this).parent(".number-box").hasClass("input-passport")){jq(this).datepicker({minDate:0,changeMonth:true,changeYear:true,yearRange:"c:2099",showButtonPanel:false,yearSuffix:" "})}else{jq(this).datepicker({minDate:0,numberOfMonths:2,showButtonPanel:false,beforeShow:function(f,g){a(f,g,2)},onChangeMonthYear:function(f,h,g){d(f,h,2)}})}}}}})},placeholder:function(a){a.each(function(f,g){var b=jq(g),h=b.attr("placeholder"),j=b.prop("id"),d="placeholder" in document.createElement("input");if(!d){if(!j){j="placeholder"+Math.random();b.prop("id",j)}var c=jq("<label for='"+j+"' class='text-label'></label>").insertAfter(b).text(h);b.on({focus:function(){c.html("")},blur:function(){if(b.val()===""){c.html(h)}},change:function(){if(b.val()===""){c.html(h)}else{c.html("")}}});if(b.val()!==""){c.html("")}}})},supports:function(d){var c=document.createElement("div"),b="Khtml O Moz Webkit".split(" "),a=b.length;if(d in c.style){return true}if("-ms-"+d in c.style){return true}d=d.replace(/^[a-z]/,function(e){return e.toUpperCase()});while(a--){if(b[a]+d in c.style){return true}}return false}};if(jQuery.datepicker){jq.datepicker.regional["zh-CN"]={closeText:"关闭",prevText:"&#x3C;上月",nextText:"下月&#x3E;",currentText:"今天",monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthNamesShort:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayNames:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayNamesShort:["周日","周一","周二","周三","周四","周五","周六"],dayNamesMin:["日","一","二","三","四","五","六"],weekHeader:"周",dateFormat:"yy-mm-dd",firstDay:0,isRTL:false,showMonthAfterYear:true,yearSuffix:"年",showButtonPanel:true};jq.datepicker.setDefaults(jq.datepicker.regional["zh-CN"])}jq(".item-nav-name").click(function(){var c=jq(this),b=c.closest(".item-left-nav"),a=b.find(".item-nav-child");jq(".item-left-nav").removeClass("toggle on");jq(".item-nav-child").slideUp();a.slideDown();b.addClass("toggle on")});jq(".query-item .crew-radio-label").click(function(){var b=jq(".query-item .info-box");b.removeClass("on");var a=jq(this).index();b.eq(a).addClass("on")});jq(".member-manage .manage-li").on("click",function(){jq(this).parent().siblings().removeClass("account-active");jq(this).parent().addClass("account-active");jq(this).parent().siblings().find(".manage-li i").removeClass("icon-crrowupper").addClass("icon-crrow");if(jq(this).find("i").hasClass("icon-crrowupper")){jq(this).find("i").removeClass("icon-crrowupper").addClass("icon-crrow")}else{jq(this).find("i").removeClass("icon-crrow").addClass("icon-crrowupper")}jq(this).parent().siblings().find(".account-list-2th").slideUp();jq(this).next(".account-list-2th").slideToggle()});jq(".account-list-2th li").on("click",function(){jq(".user-ul .account-list-2th li").removeClass("active");jq(this).addClass("active")});jq(document).on("click",".tab-item",function(){var a=jq(this).index();jq(this).addClass("active").siblings().removeClass("active");jq(this).parent().siblings(".crew-con").removeClass("active");jq(this).parent().siblings(".crew-con").eq(a).addClass("active")});